<!DOCTYPE html>
<head>
<meta charset="ISO-8859-1">
<title>AJAX Example1</title>
</head>
<body>
<button id = "button">Get Text File</button>

<br/><br/>
<div id = "div1">

</div>
<script>

//Create event listener
document.getElementById('button').addEventListener('click',loadText);

function loadText(){
	//console.log('button clicked');
	
	//Create XHR Object
	
	var xhr = new XMLHttpRequest();
	//OPEN Function- type, url/file, async
	xhr.open('GET','sample.txt',true);
	
	// xhr.onload = function(){
	// 	if(this.status == 200){
	// 		console.log(this.responseText);
	// 	}
	// }
	
    // OPTIONAL - used for loaders
    xhr.onprogress = function(){
        console.log('READYSTATE: ', xhr.readyState);
    }



    xhr.onreadystatechange = function(){
        if(this.readyState == 4 && this.status == 200){
            // console.log(this.responseText);
            document.getElementById('div1').innerHTML = this.responseText;
        }else if(this.status = 404){
            document.getElementById('text').innerHTML = 'NotFound';
        }
    }

    xhr.onerror = function(){
        console.log('Request Error');
    }
	xhr.send();
}
</script>
</body>
</html>